(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{281:function(e,t,n){e.exports=n(505)},505:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(24),o=n.n(c),i=n(41),u=n(29),l=n.n(u),s=n(23),m=n(89),d=n.n(m),b=Object(s.withStyles)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}})(function(e){var t=e.classes;return a.a.createElement("div",{className:t.wrapper},e.children)}),h=n(57),f=n(191),p=n(192),g=n(200),y=n(193),v=n(201),E=n(194),O=n.n(E),j=n(12),w=n.n(j),C=n(39),x=n.n(C),T=n(88),R=n.n(T),k=n(87),B=n.n(k),W=n(60),D="EVENT/API_ERROR_RECEIVED",P="SUBMIT_FOR",S="SUBMIT_FOR_SUCCESS",N=n(507),K=n(506),M=n(91),I=n(28),U=n.n(I);var H=function(e){var t=e.input,n=e.label,r=e.meta,c=r.touched,o=r.error,i=r.warning,u=e.children,l=e.instantError,s=Object(M.a)(e,["input","label","meta","children","instantError"]);return(c||l)&&o?a.a.createElement(U.a,Object.assign({label:n,id:t.name},t,{onChange:function(e){return t.onChange(e.target.value)},children:u},s,{select:!0,error:!0,helperText:o,fullWidth:!0,variant:"outlined"})):i?a.a.createElement(U.a,Object.assign({label:n,id:t.name},t,{onChange:function(e){return t.onChange(e.target.value)},children:u},s,{select:!0,helperText:i,fullWidth:!0,FormHelperTextProps:{style:{color:"green"}},variant:"outlined"})):a.a.createElement(U.a,Object.assign({label:n,id:t.name},t,{onChange:function(e){return t.onChange(e.target.value)},children:u},s,{select:!0,fullWidth:!0,variant:"outlined"}))},F=function(e){(e.which<48||e.which>57)&&e.preventDefault()};var Y=function(e){var t=e.input,n=e.label,r=e.type,c=e.meta,o=c.touched,i=c.error,u=c.warning,l=Object(M.a)(e,["input","label","type","meta"]);return"Must be 0 or larger number"===i||"Must be 1 or larger number"===i?a.a.createElement(U.a,Object.assign({label:n},t,l,{error:!0,helperText:i,fullWidth:!0,onKeyPress:function(e){"number"===r&&F(e)},variant:"outlined"})):o&&i?a.a.createElement(U.a,Object.assign({label:n},t,l,{error:!0,helperText:i,fullWidth:!0,onKeyPress:function(e){"number"===r&&F(e)},variant:"outlined"})):u?a.a.createElement(U.a,Object.assign({label:n},t,l,{helperText:u,FormHelperTextProps:{style:{color:"green"}},fullWidth:!0,onKeyPress:function(e){"number"===r&&F(e)},variant:"outlined"})):a.a.createElement(U.a,Object.assign({label:n},t,l,{fullWidth:!0,onKeyPress:function(e){"number"===r&&F(e)},variant:"outlined"}))},A=["AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HRK","HUF","IDR","ILS","INR","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","USD","ZAR"];var L=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(a)))).submit=function(e){var t=e.baseCurrency,r=e.waitingTime,a=e.targetCurrency,c=e.amount;n.props.onLoad({baseCurrency:t,waitingTime:r,targetCurrency:a,amount:c})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderCurrencyOptions",value:function(){return A.map(function(e){return a.a.createElement(B.a,{key:e,value:e},e)})}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.pristine,r=e.submitting,c=e.data,o=e.fetching,i=e.loaded,u=c.baseCurrency,s=c.todayTargetCurrency,m=c.targetCurrency,d=c.bestLastDate,b=c.bestBuyDate,h=c.bestBuyRate,f=c.amount;return a.a.createElement("div",null,a.a.createElement("main",null,a.a.createElement(l.a,{container:!0,justify:"center"},a.a.createElement(l.a,{item:!0,xs:3}),a.a.createElement(l.a,{item:!0,xs:3},a.a.createElement("form",{onSubmit:t(this.submit),noValidate:!0,autoComplete:"off"},a.a.createElement(x.a,null,"Base Currency: "),a.a.createElement(N.a,{fullWidth:!0,margin:"dense",name:"baseCurrency",component:H,options:A},this.renderCurrencyOptions()),a.a.createElement(x.a,null,"Target Currency: "),a.a.createElement(N.a,{fullWidth:!0,margin:"dense",name:"targetCurrency",component:H},this.renderCurrencyOptions()),a.a.createElement(x.a,null,"Amount: "),a.a.createElement(N.a,{fullWidth:!0,margin:"dense",name:"amount",type:"number",component:Y}),a.a.createElement(x.a,null,"Max Waiting Time (Weeks): "),a.a.createElement(N.a,{fullWidth:!0,margin:"dense",name:"waitingTime",type:"number",component:Y}),a.a.createElement(R.a,{style:{marginTop:"3vh"},fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:n||r},"Submit"))),a.a.createElement(l.a,{item:!0,xs:2}),a.a.createElement(l.a,{item:!0,xs:3},o&i?a.a.createElement("div",null,a.a.createElement(W.a,{variant:"h6",gutterBottom:!0},"".concat(O()(d,"YYYY-MM-DD").fromNow(),": 1 ").concat(u," = 2 ").concat(m)),a.a.createElement(W.a,{variant:"h6",gutterBottom:!0},"today: 1 ".concat(u," = ").concat(s," ").concat(m)),a.a.createElement(W.a,{variant:"h6",gutterBottom:!0},"Buying Date = ".concat(b)),a.a.createElement(W.a,{variant:"h6",gutterBottom:!0},"Predicted Buying Rate = ".concat(h)),a.a.createElement(W.a,{variant:"h6",gutterBottom:!0},"Spend ".concat(h," x ").concat(f," = ").concat((Number(h)*Number(f)).toFixed(2)))):null),a.a.createElement(l.a,{item:!0,xs:1}))))}}]),t}(r.Component),_=w()(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}})(Object(K.a)({form:"CurrencyForm",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,initialValues:{baseCurrency:""},validate:function(e){var t={};return["baseCurrency","waitingTime","targetCurrency","amount"].forEach(function(n){e[n]&&0!==e[n].length||(t[n]="*Required")}),t}})(Object(i.b)(function(e){var t=e.currency;return{fetching:t.fetching,error:t.error,data:t.data,loaded:t.loaded}},function(e){return{onLoad:function(t){return e(Object(h.a)({},t,{type:P}))}}})(L))),V=n(18),G=n(196),J=n(508),Z=n(199),q=n(25),X=n.n(q),$=n(27),z=n(197),Q=X.a.mark(te),ee=X.a.mark(ne);function te(e){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($.b)(z.a.error,"Error Received: ".concat(e.code));case 2:case"end":return t.stop()}},Q)}function ne(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.d)(D,te);case 2:case"end":return e.stop()}},ee)}var re=ne,ae=n(198),ce=(n(502),{getCurrencyInfo:function(){var e=Object(ae.a)(X.a.mark(function e(t){var n,r,a,c,o,i;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.baseCurrency,r=t.waitingTime,a=t.targetCurrency,c=t.amount,e.next=3,fetch("http://localhost:3333/currency/info?base=".concat(n,"&target=").concat(a,"&wait_time=").concat(r,"&amount=").concat(c));case 3:if((o=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:{code:o.status}});case 6:return e.next=8,o.json();case 8:return i=e.sent,e.abrupt("return",{data:i});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),oe=X.a.mark(le),ie=X.a.mark(se);function ue(e){return new Promise(function(t){setTimeout(function(){return t(!0)},e)})}function le(e){var t,n;return X.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object($.b)(ce.getCurrencyInfo,e);case 3:return t=r.sent,n=t.data,r.next=7,Object($.c)({type:S,data:n});case 7:return r.next=9,Object($.b)(ue,3e3);case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object($.c)({type:D,code:r.t0.code});case 15:case"end":return r.stop()}},oe,null,[[0,11]])}function se(){return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.a)([Object($.d)(P,le)]);case 2:case"end":return e.stop()}},ie)}var me,de=[se,re],be=n(58),he={fetching:!1,loaded:!1,data:{},error:{}},fe=(me={},Object(be.a)(me,P,function(e,t){return Object(h.a)({},e,{fetching:!0,data:t})}),Object(be.a)(me,S,function(e,t){return Object(h.a)({},e,{loaded:!0,data:t.data})}),Object(be.a)(me,D,function(e,t){return Object(h.a)({},e,{error:t.data})}),me),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,n=fe[t.type];return"undefined"===typeof n?e:n(e,t)},ge=function(){var e=Object(V.combineReducers)({currency:pe,form:J.a}),t=Object(G.composeWithDevTools)({}),n=Object(Z.a)(),r=Object(V.applyMiddleware)(n),a=Object(V.createStore)(e,t(r));return de.forEach(n.run),a}(),ye=Object(s.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),ve=function(){return a.a.createElement(s.MuiThemeProvider,{theme:ye},a.a.createElement(d.a,null),a.a.createElement(i.a,{store:ge},a.a.createElement(b,null,a.a.createElement(l.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},a.a.createElement(_,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[281,2,1]]]);
//# sourceMappingURL=main.e7bc2e49.chunk.js.map